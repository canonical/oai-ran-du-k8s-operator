# Copyright 2025 Canonical Ltd.
# See LICENSE file for licensing details.

"""The reference of TDD FR1 bands and their allowed channel bandwidths."""

# The reference of TDD FR1 bands: https://en.wikipedia.org/wiki/5G_NR_frequency_bands
TDD_FR1_BANDS = {
    # band_number: ( frequency range in MHz)
    34: (2010, 2025),
    38: (2570, 2620),
    39: (1880, 1920),
    40: (2300, 2400),
    41: (2496, 2690),
    48: (3550, 3700),
    50: (1432, 1517),
    51: (1427, 1432),
    77: (3300, 4200),
    78: (3300, 3800),
    79: (4400, 5000),
    90: (2496, 2690),
    101: (1900, 1910),
}

# The reference of channel bandwidths for each NR band:
# 3GPP TS 38.101-1 version 17.5.0 Table 5.3.5-1
ALLOWED_CHANNEL_BANDWIDTHS = {
    # frequency_band: {sub_carrier_spacing (KHz): {allowed_bandwidths (MHz)}}
    34: {
        15: {5, 10, 15},
        30: {10, 15},
    },
    38: {
        15: {5, 10, 15, 20, 25, 30, 40},
        30: {10, 15, 20, 25, 30, 40},
    },
    39: {
        15: {5, 10, 15, 20, 25, 30, 40},
        30: {10, 15, 20, 25, 30, 40},
    },
    40: {
        15: {5, 10, 15, 20, 25, 30, 40, 50},
        30: {10, 15, 20, 25, 30, 40, 50, 60, 80},
    },
    41: {
        15: {10, 15, 20, 30, 40, 50},
        30: {10, 15, 20, 30, 40, 50, 60, 80, 90, 100},
    },
    48: {
        15: {5, 10, 15, 20, 40, 50},
        30: {10, 15, 20, 40, 50, 60, 80, 90, 100},
    },
    50: {
        15: {5, 10, 15, 20, 30, 40, 50},
        30: {10, 15, 20, 30, 40, 50, 60, 80},
    },
    51: {
        15: {5},
    },
    77: {
        15: {10, 15, 20, 25, 30, 40, 50},
        30: {10, 15, 20, 25, 30, 40, 50, 60, 70, 80, 90, 100},
    },
    78: {
        15: {10, 15, 20, 25, 30, 40, 50},
        30: {10, 15, 20, 25, 30, 40, 50, 60, 70, 80, 90, 100},
    },
    79: {
        15: {40, 50},
        30: {40, 50, 60, 80, 100},
    },
    90: {
        15: {10, 15, 20, 30, 40, 50},
        30: {10, 15, 20, 30, 40, 50, 60, 80, 90, 100},
    },
    101: {
        15: {5, 10},
        30: {10},
    },
}
